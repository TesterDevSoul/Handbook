# æ–‡ç« å
## æœ¬ç« è¦ç‚¹
1. è¦ç‚¹ä¸€
1. è¦ç‚¹
1. è¦ç‚¹
1. è¦ç‚¹




## è®¡ç®—å™¨ç³»ç»Ÿè¯´æ˜

è®¡ç®—å™¨è¿›è¡Œäº†åŠŸèƒ½å¢åŠ ï¼Œæ–°å¢äº†**å‡æ³•**åŠŸèƒ½å¯¹åº”çš„æ–¹æ³•ä¸º`subtract()`ï¼Œ**å­—æ®µæ‹¼æ¥**åŠŸèƒ½å¯¹åº”çš„æ–¹æ³•ä¸º`concatStr()`ã€‚

`subtract()`æ–¹æ³•ä¸ºå¸¦å‚çš„æ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥**2ä¸ªintç±»å‹çš„å‚æ•°**ã€‚

å½“ä¼ å…¥çš„å‚æ•°å…¶ä¸­ä¸€ä¸ª **>99** æˆ–è€… **<-99** æ—¶ï¼ŒæŠ¥é”™ã€‚é”™è¯¯ç±»å‹ä¸ºï¼š`IllegalArgumentException`ï¼Œå¯¹åº”çš„æç¤ºä¿¡æ¯ä¸ºï¼š`Please enter an integer in the range!`

### è¢«æµ‹ä»£ç 
```java
import org.slf4j.Logger;
import java.util.Arrays;
import java.util.UUID;
import java.util.stream.IntStream;
import static java.lang.invoke.MethodHandles.lookup;
import static org.slf4j.LoggerFactory.getLogger;


public class MySUT {
    //è·å¾—å…·æœ‰æ‰€éœ€åç§°çš„è®°å½•å™¨
    static final Logger logger = getLogger(lookup().lookupClass());
    //ç”¨ä¾‹å
    String name;
    //å”¯ä¸€IDæ ‡è¯†
    String id;

    public MySUT(String name) {
        this.name = name;
        logger.info("Open {} ", name);
    }
    public void initId(){
        id = UUID.randomUUID().toString();
        logger.info("Generate IDï¼š{} ", id);
    }
    public void destroyId() {
        if (id == null) {
            throw new IllegalArgumentException(name + " æ²¡æœ‰åˆå§‹åŒ–å¯¹åº”ID");
        }
        logger.info("Release ID: {} ", id);
        id = null;
    }

    public void close() {
        logger.info("Close {} ", name);
    }

    //è¿ç»­æ·»åŠ 
    public int sum(int... numbers) {
        if(Arrays.stream(numbers).anyMatch(u -> u == 100) | Arrays.stream(numbers).anyMatch(u -> u == -100)){
            //è¾“å…¥100
            logger.warn("Enter an integer is 100ï¼");
            throw new NumberFormatException("Enter an integer is 100ï¼");
        }else if (Arrays.stream(numbers).anyMatch(u -> u > 99) |
                Arrays.stream(numbers).anyMatch(u -> u < -99)){
            // è¯·è¾“å…¥èŒƒå›´å†…çš„æ•´æ•°
            logger.warn("Please enter an integer in the range!");
            throw new IllegalArgumentException("Please enter an integer in the range!");
        }else {
            return IntStream.of(numbers).sum();
        }
    }

    //ä»100è¿›è¡Œå‡æ³•
    public int subtract(int... numbers) {
        if(Arrays.stream(numbers).anyMatch(u -> u > 99) | Arrays.stream(numbers).anyMatch(u -> u < -99)){
            logger.warn("Please enter an integer in the range!");
            throw new IllegalArgumentException("Please enter an integer in the range!");
        }else {
            return IntStream.of(numbers).reduce(100, (a, b) -> a-b);
        }
    }
    public int subtract(int x, int y) {
        if(x>99 | x<-99 | y>99 | y<-99){
            logger.warn("Please enter an integer in the range!");
            throw new IllegalArgumentException("Please enter an integer in the range!");
        }else {
            return x-y;
        }
    }
    //å¹³å‡å€¼ average
    public double average(int... numbers) {
        if(Arrays.stream(numbers).anyMatch(u -> u > 99) | Arrays.stream(numbers).anyMatch(u -> u < -99)){
            logger.warn("Please enter an integer in the range!");
            throw new IllegalArgumentException("Please enter an integer in the range!");
        }else {
            return IntStream.of(numbers).average().getAsDouble();
        }
    }
    //è¿ç»­æ‹¼æ¥
    public String concatStr(String... words) {
        return String.join(" ", words);
    }
}
```









## å®æˆ˜ä¸€
### æµ‹è¯•å‡†å¤‡

æ ¹æ®è¢«æµ‹ä»£ç ç¼–å†™ç›¸å…³æµ‹è¯•ç”¨ä¾‹ã€‚

[å‡æ³•æµ‹è¯•ç”¨ä¾‹](å‡æ³•æµ‹è¯•ç”¨ä¾‹.xlsx)


![](https://cdn.jsdelivr.net/gh/TesterDevSoul/pic/manual/20230227110336.png)




### å¤šä¸ªintç›¸å‡ï¼Œæ­£å‘

#### æ­¥éª¤
1. åˆ›å»ºåŠ æ³•è®¡ç®—å™¨å¯¹è±¡ã€‚
2. ç”Ÿæˆå”¯ä¸€IDã€‚
3. logæ—¥å¿—æ‰“å°ï¼š`å¼€å§‹è¿›è¡Œ{}è®¡ç®—,åŠ æ³•`ã€‚
4. ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿”å›ç»“æœå£°æ˜ä¸ºresultã€‚
>8-2=6ï¼›<br>3-6=-3ï¼›<br>99-99=0ï¼›<br>99-(-99)=198ï¼›<br>-99-99=-198ï¼›<br>-99-(-99)=0ã€‚
5. logæ—¥å¿—æ‰“å°è®¡ç®—ç»“æœï¼š`è®¡ç®—ç»“æœä¸º{},result`ã€‚
6. é”€æ¯IDæ“ä½œã€‚
7. å…³é—­è®¡ç®—å™¨ã€‚
8. è®¡ç®—çš„ç»“æœæ–­è¨€ã€‚

#### è¦æ±‚
1. åœ¨æµ‹è¯•æ–¹æ³•ä¸Šæ·»åŠ è¯´æ˜ï¼ša-b=cã€‚
2. åœ¨æµ‹è¯•ç±»ä¸Šæ·»åŠ è¯´æ˜ï¼šå‡æ³•æµ‹è¯•ç±»ã€‚

#### æ¶‰åŠçŸ¥è¯†ç‚¹

|çŸ¥è¯†ç‚¹|å¤‡æ³¨|
|:-:| --- |
|[@DisplayNameæ³¨è§£](/archives/junit07)| 1. å¸¦æ³¨é‡Šçš„**æµ‹è¯•ç±»**æˆ–**æµ‹è¯•æ–¹æ³•**å£°æ˜è‡ªå®šä¹‰æ˜¾ç¤ºåç§°ã€‚<br>2. å¯åŒ…å«ç©ºæ ¼ã€ç‰¹æ®Šå­—ç¬¦ç”šè‡³è¡¨æƒ…ç¬¦å·ğŸ˜Šã€‚<br>|

#### ç¤ºä¾‹ä»£ç 
```java
@DisplayName("å‡æ³•æµ‹è¯•ç±»")
public class SubTest {
    static final Logger logger = getLogger(lookup().lookupClass());
    static MySUT mySUT;

    @BeforeAll
    public static void beforeAll(){
        //1. åˆ›å»ºåŠ æ³•è®¡ç®—å™¨å¯¹è±¡ -- newæœ‰å‚æ„é€ ï¼Œä¼ å…¥å‚æ•°å€¼ä¸ºï¼šåŠ æ³•è®¡ç®—å™¨
        mySUT = new MySUT("Sum Calculator");
    }
    @BeforeEach
    public void beforeEach(){
        //2. ç”Ÿæˆå”¯ä¸€ID
        mySUT.initId();
        //3. logæ—¥å¿—æ‰“å°ï¼šå¼€å§‹è¿›è¡Œ{}è®¡ç®—,åŠ æ³•
        logger.info("Start adding...");
    }
    @AfterEach
    public void afterEach(){
        //6. é”€æ¯IDæ“ä½œ
        mySUT.destroyId();
    }

    @AfterAll
    public static void afterAll(){
        //7. å…³é—­è®¡ç®—å™¨
        mySUT.close();
    }

    //8ï¼Œ2ï¼›
    @DisplayName("8-2=6")
    @Test
    public void subOne(){
        //4. ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿”å›ç»“æœå£°æ˜ä¸ºresult
        int result = mySUT.subtract(8, 2);
        //5. logæ—¥å¿—æ‰“å°è®¡ç®—ç»“æœï¼šè®¡ç®—ç»“æœä¸º{},result
        logger.info("Calculated as: {}", result);

        //8. è®¡ç®—çš„ç»“æœæ–­è¨€ -- assertEquals()ï¼Œæ–­è¨€å¤±è´¥msgï¼š99+99è®¡ç®—é”™è¯¯
        /**
         * expected   æœŸæœ›å€¼ï¼Œ10
         * actual     å®é™…å€¼ï¼Œresult
         * message    æ–­è¨€å¤±è´¥åŸå› çš„è§£é‡Šè¯´æ˜ï¼Œ2+8è®¡ç®—é”™è¯¯
         */
        assertEquals(6, result, 8 + " - " + 2 + "è®¡ç®—é”™è¯¯");
    }

        // 3ï¼Œ6ï¼›
    @DisplayName("3-6=-3")
    @Test
    public void subTwo(){
        //4. ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿”å›ç»“æœå£°æ˜ä¸ºresult
        int result = mySUT.subtract(3, 6);
        //5. logæ—¥å¿—æ‰“å°è®¡ç®—ç»“æœï¼šè®¡ç®—ç»“æœä¸º{},result
        logger.info("Calculated as: {}", result);

        //8. è®¡ç®—çš„ç»“æœæ–­è¨€ -- assertEquals()ï¼Œæ–­è¨€å¤±è´¥msgï¼š99+99è®¡ç®—é”™è¯¯
        /**
         * expected   æœŸæœ›å€¼ï¼Œ10
         * actual     å®é™…å€¼ï¼Œresult
         * message    æ–­è¨€å¤±è´¥åŸå› çš„è§£é‡Šè¯´æ˜ï¼Œ2+8è®¡ç®—é”™è¯¯
         */
        assertEquals(-3, result, 3 + " - " + 6 + "è®¡ç®—é”™è¯¯");
    }
    //99ï¼Œ99ï¼› 99ï¼Œ-99ï¼› -99ï¼Œ99ï¼› -99ï¼Œ-99ï¼›
    @DisplayName("99-99=0")
    @Test
    public void subtractBoundaryOne(){
        //4. ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿”å›ç»“æœå£°æ˜ä¸ºresult
        int result = mySUT.subtract(99, 99);
        //5. logæ—¥å¿—æ‰“å°è®¡ç®—ç»“æœï¼šè®¡ç®—ç»“æœä¸º{},result
        logger.info("Calculated as: {}", result);

        //8. è®¡ç®—çš„ç»“æœæ–­è¨€ -- assertEquals()ï¼Œæ–­è¨€å¤±è´¥msgï¼š99+99è®¡ç®—é”™è¯¯
        /**
         * expected   æœŸæœ›å€¼ï¼Œ10
         * actual     å®é™…å€¼ï¼Œresult
         * message    æ–­è¨€å¤±è´¥åŸå› çš„è§£é‡Šè¯´æ˜ï¼Œ2+8è®¡ç®—é”™è¯¯
         */
        assertEquals(0, result, 99 + " - " + 99 + "è®¡ç®—é”™è¯¯");
    }

    @DisplayName("99-(-99)=0")
    @Test
    public void subtractBoundaryTwo(){
        //4. ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿”å›ç»“æœå£°æ˜ä¸ºresult
        int result = mySUT.subtract(99, -99);
        //5. logæ—¥å¿—æ‰“å°è®¡ç®—ç»“æœï¼šè®¡ç®—ç»“æœä¸º{},result
        logger.info("Calculated as: {}", result);

        //8. è®¡ç®—çš„ç»“æœæ–­è¨€ -- assertEquals()ï¼Œæ–­è¨€å¤±è´¥msgï¼š99+99è®¡ç®—é”™è¯¯
        /**
         * expected   æœŸæœ›å€¼ï¼Œ10
         * actual     å®é™…å€¼ï¼Œresult
         * message    æ–­è¨€å¤±è´¥åŸå› çš„è§£é‡Šè¯´æ˜ï¼Œ2+8è®¡ç®—é”™è¯¯
         */
        assertEquals(198, result, 99 + " - " + (-99) + "è®¡ç®—é”™è¯¯");
    }

    @DisplayName("-99-99=-198")
    @Test
    public void subtractBoundaryThree(){
        //4. ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿”å›ç»“æœå£°æ˜ä¸ºresult
        int result = mySUT.subtract(-99, 99);
        //5. logæ—¥å¿—æ‰“å°è®¡ç®—ç»“æœï¼šè®¡ç®—ç»“æœä¸º{},result
        logger.info("Calculated as: {}", result);

        //8. è®¡ç®—çš„ç»“æœæ–­è¨€ -- assertEquals()ï¼Œæ–­è¨€å¤±è´¥msgï¼š99+99è®¡ç®—é”™è¯¯
        /**
         * expected   æœŸæœ›å€¼ï¼Œ10
         * actual     å®é™…å€¼ï¼Œresult
         * message    æ–­è¨€å¤±è´¥åŸå› çš„è§£é‡Šè¯´æ˜ï¼Œ2+8è®¡ç®—é”™è¯¯
         */
        assertEquals(-198, result, -99 + " - " + 99 + "è®¡ç®—é”™è¯¯");
    }
    @DisplayName("-99-(-99)=0")
    @Test
    public void subtractBoundaryFour(){
        //4. ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿”å›ç»“æœå£°æ˜ä¸ºresult
        int result = mySUT.subtract(-99, -99);
        //5. logæ—¥å¿—æ‰“å°è®¡ç®—ç»“æœï¼šè®¡ç®—ç»“æœä¸º{},result
        logger.info("Calculated as: {}", result);

        //8. è®¡ç®—çš„ç»“æœæ–­è¨€ -- assertEquals()ï¼Œæ–­è¨€å¤±è´¥msgï¼š99+99è®¡ç®—é”™è¯¯
        /**
         * expected   æœŸæœ›å€¼ï¼Œ10
         * actual     å®é™…å€¼ï¼Œresult
         * message    æ–­è¨€å¤±è´¥åŸå› çš„è§£é‡Šè¯´æ˜ï¼Œ2+8è®¡ç®—é”™è¯¯
         */
        assertEquals(0, result, -99 + " - " + -99 + "è®¡ç®—é”™è¯¯");
    }
}
```


![](https://cdn.jsdelivr.net/gh/TesterDevSoul/pic/manual/20230227142916.png)



## å®æˆ˜äºŒ

å‘ç°è¿è¡Œçš„æµ‹è¯•æ–¹æ³•ä¸æ˜¯æŒ‰ç¼–å†™çš„æ–¹æ³•åå‰åè¿›è¡Œè¿è¡Œã€‚

éœ€æ±‚ï¼š
- æŒ‰ç…§æµ‹è¯•ç”¨ä¾‹ç¼–å†™çš„é¡ºåºè¿è¡Œæµ‹è¯•æ–¹æ³•ã€‚



#### æ¶‰åŠçŸ¥è¯†ç‚¹

|çŸ¥è¯†ç‚¹|å¤‡æ³¨|
|:-:| --- |
|[@Orderæ³¨è§£](/archives/junit07)| 1. @Orderæ³¨è§£ä¿®é¥°çš„æ–¹æ³•ä¸å¯ç›´æ¥è¿è¡Œã€‚<br>2. @BeforeEachæ³¨è§£ä¿®é¥°çš„æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚<br>3. @BeforeEachæ³¨è§£åœ¨æ¯ä¸ª@Testä¹‹**å‰**éƒ½è¿è¡Œä¸€æ¬¡ã€‚|









```java
import org.junit.jupiter.api.AfterAll;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.Arguments;
import org.junit.jupiter.params.provider.MethodSource;
import org.slf4j.Logger;
import top.testeru.MySUT;
import java.util.stream.IntStream;
import java.util.stream.Stream;
import static java.lang.invoke.MethodHandles.lookup;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.params.provider.Arguments.arguments;
import static org.slf4j.LoggerFactory.getLogger;


public class SubTest {

    static final Logger logger = getLogger(lookup().lookupClass());
    static MySUT mySUT;
    @BeforeAll
    public static void beforeAll(){
        //1. åˆ›å»ºåŠ æ³•è®¡ç®—å™¨å¯¹è±¡ -- newæœ‰å‚æ„é€ ï¼Œä¼ å…¥å‚æ•°å€¼ä¸ºï¼šåŠ æ³•è®¡ç®—å™¨
        mySUT = new MySUT("Sum Calculator");
    }
    @BeforeEach
    public void beforeEach(){
        //2. ç”Ÿæˆå”¯ä¸€ID
        mySUT.initId();
        //3. logæ—¥å¿—æ‰“å°ï¼šå¼€å§‹è¿›è¡Œ{}è®¡ç®—,åŠ æ³•
        logger.info("Start adding...");
    }
    @AfterEach
    public void afterEach(){
        //6. é”€æ¯IDæ“ä½œ
        mySUT.destroyId();
    }

    @AfterAll
    public static void afterAll(){
        //7. å…³é—­è®¡ç®—å™¨
        mySUT.close();
    }

    //8ï¼Œ2ï¼› 3ï¼Œ6ï¼› 99ï¼Œ99ï¼› 99ï¼Œ-99ï¼› -99ï¼Œ99ï¼› -99ï¼Œ-99ï¼›
    //ç›´æ¥ä½¿ç”¨å‚æ•°åŒ–æ ¡éªŒ
    @ParameterizedTest
    @MethodSource
    public void subOne(int a, int b, int c){
        //4. ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼Œè¿”å›ç»“æœå£°æ˜ä¸ºresult
        int result = mySUT.subtract(a, b);
        //5. logæ—¥å¿—æ‰“å°è®¡ç®—ç»“æœï¼šè®¡ç®—ç»“æœä¸º{},result
        logger.info("Calculated as: {}", result);

        //8. è®¡ç®—çš„ç»“æœæ–­è¨€ -- assertEquals()ï¼Œæ–­è¨€å¤±è´¥msgï¼š99+99è®¡ç®—é”™è¯¯
        /**
         * expected   æœŸæœ›å€¼ï¼Œ10
         * actual     å®é™…å€¼ï¼Œresult
         * message    æ–­è¨€å¤±è´¥åŸå› çš„è§£é‡Šè¯´æ˜ï¼Œ2+8è®¡ç®—é”™è¯¯
         */
        assertEquals(c, result, a + " - " + b + "è®¡ç®—é”™è¯¯");
    }

    static Stream<Arguments> subOne() {
        return Stream.of(
                arguments(8, 2, 6),
                arguments(3, 6, -3),
                arguments(99, 99, 0),
                arguments(99, -99, 198),
                arguments(-99, 99, -198),
                arguments(-99, -99, 0)
        );
    }
}
```





 Tag
 DisplayName
 Order
