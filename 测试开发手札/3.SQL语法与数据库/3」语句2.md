## DML 操作表中数据

SQL中的DML 用于对表中的数据进行增删改操作。

### 插入数据

命令模版：

```sql
insert into 表名 (字段名1，字段名2...) values(字段值1，字段值2...);
```

添加数据有3种方式：
1. 方式1: 插入全部字段， 将所有字段名都写出来。
2. 方式2: 插入全部字段，不写字段名。
3. 方式3:插入指定字段的值。


#### 需求: 创建学生表

代码准备，创建一个学生表:

- 表名:student 
- 表中字段:
  - 学员ID：sid int
  - 姓名：sname varchar(20) 
  - 年龄：age int
  - 性别：sex char(1)
  - 地址：address varchar(40)

```sql
-- 创建学生表
CREATE TABLE student(
    sid INT,
    sname VARCHAR(20),
    age INT,
    sex CHAR(1),
    address VARCHAR(40)
);
```

#### 需求1: 插入全部字段

方式1: 插入全部字段，将所有字段名都写出来。

- 插入数据为：
  - 学员ID：1
  - 姓名：孙悟空
  - 年龄：20
  - 性别：男
  - 地址：花果山
```sql
INSERT INTO student (sid,sname,age,sex,address) VALUES(1,'孙悟空',20,'男','花果 山');
```
#### 需求2: 插入全部字段，不写字段名

方式2: 插入全部字段，不写字段名。

- 插入数据为：
  - 学员ID：2
  - 姓名：孙悟饭
  - 年龄：10
  - 性别：男
  - 地址：地球


```sql
INSERT INTO student VALUES(2,'孙悟饭',10,'男','地球');
```

#### 需求3: 插入指定字段的值

方式3:插入指定字段的值。

- 插入数据为：
  - 姓名：白骨精


```sql
INSERT INTO student (sname) VALUES('白骨精');
```


#### 注意⚠️:

1. 值与字段必须要对应，个数相同&数据类型相同。 
  ```sql
  -- 表的字段和插入值没有对应
  INSERT INTO student(sid,sname,age,sex,address) VALUES(4,'孙悟空',20,'男');
  ```
  20230307150904
1. 值的数据大小，必须在字段指定的长度范围内。
  ```sql
  INSERT INTO student (sid,sname,age,sex,address) VALUES(1,'孙悟空',20,'男','花果 山');
  INSERT INTO student VALUES(2,'孙悟饭',10,'男','地球');
  INSERT INTO category (cname) VALUES('白骨精');
  ```

1. `varchar` `char` `date`类型的值必须使用单引号，或者双引号 包裹。 

1. 如果要插入空值，可以忽略不写，或者插入`null`。

1. 如果插入指定字段的值，必须要上写列名。


### 更改数据 

#### 不带条件的修改

命令模版：

```sql
update 表名 set 列名 = 值
```
#### 带条件的修改

命令模版：

```sql
update 表名 set 列名 = 值 [where 条件表达式:字段名 = 值 ]
```

#### 需求1: 不带条件修改

1)不带条件修改，将所有的性别改为女(慎用!!)

```sql
UPDATE student SET sex = '女';
```

#### 需求2: 带条件的修改

2)带条件的修改，将sid 为3的学生，性别改为男

```sql
UPDATE student SET sex = '男' WHERE sid = 3;
```

#### 需求3: 一次修改多个列

3)一次修改多个列， 将sid为 2 的学员，年龄改为 20，地址改为 北京

```sql
UPDATE student SET age = 20,address = '北京' WHERE sid = 2;
```


### 删除数据 


语法格式1:删除所有数据
语法格式2: 指定条件 删除数据
1)删除 sid 为 1 的数据
2) 删除所有数据


3) 如果要删除表中的所有数据,有两种做法
1. delete from 表名; 不推荐. 有多少条记录 就执行多少次删除操作. 效率低
2. truncate table 表名: 推荐. 先删除整张表, 然后再重新创建一张一模一样的表. 效率高
3.7 DQL 查询表中数据 3.7.1 准备数据
DELETE FROM student;
truncate table student;



















删除数据 语法格式1:删除所有数据
  update 表名 set 列名 = 值
  update 表名 set 列名 = 值 [where 条件表达式:字段名 = 值 ]
  UPDATE student SET sex = '女';
 UPDATE student SET sex = '男' WHERE sid = 3;
   UPDATE student SET age = 20,address = '北京' WHERE sid = 2;
  delete from 表名
语法格式2: 指定条件 删除数据

 1)删除 sid 为 1 的数据
  DELETE FROM student WHERE sid = 1;
1) 删除所有数据
2) 如果要删除表中的所有数据,有两种做法
3. delete from 表名; 不推荐. 有多少条记录 就执行多少次删除操作. 效率低
4. truncate table 表名: 推荐. 先删除整张表, 然后再重新创建一张一模一样的表. 效率高
3.7 DQL 查询表中数据 3.7.1 准备数据
  DELETE FROM student;
  truncate table student;
delete from 表名 [where 字段名 = 值]
 #创建员工表 表名 emp 表中字段:
eid 员工id，int
ename 姓名，varchar
sex 性别，char
salary 薪资，double hire_date 入职时间，date dept_name 部门名称，varchar
#创建员工表
CREATE TABLE emp(
    eid INT,
    ename VARCHAR(20),
    sex CHAR(1),
    salary DOUBLE,
    hire_date DATE,
    dept_name VARCHAR(20)
);
#添加数据
INSERT INTO emp VALUES(1,'孙悟空','男',7200,'2013-02-04','教学部'); INSERT INTO emp VALUES(2,'猪八戒','男',3600,'2010-12-02','教学部'); INSERT INTO emp VALUES(3,'唐僧','男',9000,'2008-08-08','教学部'); INSERT INTO emp VALUES(4,'白骨精','女',5000,'2015-10-07','市场部'); INSERT INTO emp VALUES(5,'蜘蛛精','女',5000,'2011-03-14','市场部'); INSERT INTO emp VALUES(6,'玉兔精','女',200,'2000-03-14','市场部'); INSERT INTO emp VALUES(7,'林黛玉','女',10000,'2019-10-07','财务部'); INSERT INTO emp VALUES(8,'黄蓉','女',3500,'2011-09-14','财务部'); INSERT INTO emp VALUES(9,'吴承恩','男',20000,'2000-03-14',NULL); INSERT INTO emp VALUES(10,'孙悟饭','男', 10,'2020-03-14',财务部);
  
3.7.2 简单查询 查询不会对数据库中的数据进行修改.只是一种显示数据的方式 SELECT
语法格式
需求1: 查询emp中的 所有数据
需求2: 查询emp表中的所有记录，仅显示id和name字段
需求3: 将所有的员工信息查询出来，并将列名改为中文 别名查询，使用关键字 as
需求4:查询一共有几个部门 使用去重关键字
需求5: 将所有员工的工资 +1000 元进行显示 运算查询 (查询结果参与运算)
3.7.3 条件查询 语法格式
,,,,
  select 列名 from 表名
  SELECT * FROM emp; -- 使用 * 表示所有列
  SELECT eid,ename FROM emp;
 # 使用 AS关键字,为列起别名 SELECT
eid AS '编号',
ename AS '姓名' ,
sex AS '性别',
salary AS '薪资',
hire_date '入职时间', -- AS 可以省略 dept_name '部门名称'
FROM emp;
  distinct
  -- 使用distinct 关键字,去掉重复部门信息 SELECT DISTINCT dept_name FROM emp;
  SELECT ename , salary + 1000 FROM emp;
滤
过行进录记对 件条询查定指要定一 中用应际实在 息信行的有所询查会就 件条置设有没中句语询查果如
 INSERT INTO emp VALUES(11,'兔八哥','女', 300,'2010-03-14',财务部);
  
 运算符
1) 比较运算符 运算符
> < <= >= = <> !=
说明
大于、小于、大于(小于)等于、不等于
        BETWEEN ...AND...
显示在某一区间的值
例如: 2000-10000之间: Between 2000 and 10000
 IN(集合)
  集合表示多个值,使用逗号分隔,例如: name in (悟空，八戒) in中的每个数据都会作为一次条件,只要满足条件就会显示
  LIKE '%张%' 模糊查询
  IS NULL
2) 逻辑运算符
运算符
And &&
Or ||
Not
需求1:
代码实现
查询某一列为NULL的值, 注: 不能写 = NULL
说明
多个条件同时成立
多个条件任一成立
不成立，取反。
               # 查询员工姓名为黄蓉的员工信息
# 查询薪水价格为5000的员工信息
# 查询薪水价格不是5000的所有员工信息
# 查询薪水价格大于6000元的所有员工信息
# 查询薪水价格在5000到10000之间所有员工信息
# 查询薪水价格是3600或7200或者20000的所有员工信息
 select 列名 from 表名 where 条件表达式
* 先取出表中的每条数据,满足条件的数据就返回,不满足的就过滤掉
 # 查询员工姓名为黄蓉的员工信息
SELECT * FROM emp WHERE ename = '黄蓉';
# 查询薪水价格为5000的员工信息
SELECT * FROM emp WHERE salary = 5000;
# 查询薪水价格不是5000的所有员工信息
SELECT * FROM emp WHERE salary != 5000; SELECT * FROM emp WHERE salary <> 5000;
# 查询薪水价格大于6000元的所有员工信息 SELECT * FROM emp WHERE salary > 6000;
  
需求2:
模糊查询 通配符
通配符 说明
% 表示匹配任意多个字符串, _ 表示匹配 一个字符
  # 查询含有'精'字的所有员工信息
# 查询以'孙'开头的所有员工信息
# 查询第二个字为'兔'的所有员工信息 # 查询没有部门的员工信息
# 查询有部门的员工信息
           # 查询含有'精'字的所有员工信息
SELECT * FROM emp WHERE ename LIKE '%精%';
# 查询以'孙'开头的所有员工信息
SELECT * FROM emp WHERE ename LIKE '孙%';
# 查询第二个字为'兔'的所有员工信息
SELECT * FROM emp WHERE ename LIKE '_兔%';
# 查询没有部门的员工信息
SELECT * FROM emp WHERE dept_name IS NULL; -- SELECT * FROM emp WHERE dept_name = NULL;
# 查询有部门的员工信息
SELECT * FROM emp WHERE dept_name IS NOT NULL;
  # 查询薪水价格在5000到10000之间所有员工信息
SELECT * FROM emp WHERE salary BETWEEN 5000 AND 10000;
# 查询薪水价格是3600或7200或者20000的所有员工信息
-- 方式1: or
SELECT * FROM emp WHERE salary = 3600 OR salary = 7200 OR salary = 20000; -- 方式2: in() 匹配括号中指定的参数
SELECT * FROM emp WHERE salary IN(3600,7200,20000);
  
 